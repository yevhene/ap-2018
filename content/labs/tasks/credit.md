# Credit

### Вступ

З великою ймовірністю ви, чи хтось, кого ви знаєте, володіє кредитною карткою. У цієї картки є номер, який надрукований на ній, а також
вбудований (мабуть, із іншими даними) у магнітну стрічку із зворотнього боку картки. Цей номер також зберігається у якійсь базі даних для того,
щоб коли вашою карткою розраховуються за покупку, кредитор знав, з якого рахунку зписувати гроші. У світі багато людей із кредитними картками,
і тому ці номери доволі великі: American Express використовує номери із 15 розрядів, MasterCard - із 16, Visa - із 13 або 16. Ці розряди - 
десяткові (від 0 до 9), а не двійкові, що означає, що American Express, наприклад, може надрукувати 10^15 = 1,000,000,000,000,000 унікальних карток!
(Тобто цілий квадриліон!)

Таке твердження є перебільшенням, тому що номери кредитних карт мають певну структуру. Номери кард American Express починаються з 34 чи 37;
номери кард MasterCard починаються з 51, 52, 53, 54 чи 55 (формально, вони можуть починатись і з деяких інших чисел, але ми не 
звертатимемо на це уваги в межах нашої задачі); номери кард Visa починаються з 4. Також номери карт мають вбудовану у них контрольну суму,
що обраховується за допомогою математичної формули. Ця формула дозволяє комп'ютерам (і людям, яким подобається математика) знаходити помилки
у номерах карт (наприклад, у випадку підробок) без звернення до бази даних, адже це може бути повільно. (Уявіть собі незручне мовчання, яке
може з вами статись у випадку, якщо ви платите вашою кредиткою в магазині, що використовує dial-up модем для верифікації вашої карти).
Звичайно ж, нечесний математик може створити неіснуючий номер картки, що все одно підходить під математичне обмеження, тому запит до бази даних
в кінці кінців все одно необхідний для більш детальної перевірки.

Отже, якою є секретна формула? Більшість карток використовують алгоритм, створений  Hans Peter Luhn із IBM. Відповідно до цього алгоритму,
ви можете перевірити, чи номер кредитної картки є синтаксично коректним наступним чином:

0. Помножте кожен другий розряд картки, починаючи із передостаннього на 2. Додайте всі *розряди* отриманих добутків.

1. Додайте цю суму до суми всіх розрядів картки, що не були помножені на 2.

2. Якщо останній розряд отриманої суми 0 (або, більш формально, якщо сума ділиться на 10), номер кредитної картки є коректним!

Алгоритм виглядає непросто, тому давайте розглянемо на прикладі картку American Express 378282246310005

Давайте спочатку виділимо всі розряди, що будуть помножені на 2 (кожен другий, рахуючи з передостаннього):


3**7**8**2**8**2**2**4**6**3**1**0**0**0**5

OK, давайте помножимо кожен виділений розряд на 2

7•2 + 2•2 + 2•2 + 4•2 + 3•2 + 0•2 + 0•2

Це дає нам

14 + 4 + 4 + 8 + 6 + 0 + 0

Давайте тепер додамо розряди цих добутків (не самі добутки!):

1 + 4 + 4 + 4 + 8 + 6 + 0 + 0 = 27

Тепер давайте додамо цю суму (27) до суми розрядів, що не були помножені на 2:

27 + 3 + 8 + 8 + 2 + 6 + 1 + 0 + 5 = 60

Останній розряд отриманої суми (60) - це 0, а отже номер карти коректний!

Отже, валідація номеру кредитки нескладна, але її трохи незручно робити вручну.

### Специфікація

* Напишіть програму, яка проситиме користувача ввести номер кредитної карти, і в якості результату виводить на екран (за допомогою printf),
чи являється ця карта коректною картою American Express, MasterCard чи Visa, відповідно до визначення форматів, наведених вище.
Назвіть ваш файл `credit.c` і розмістіть його у папці
`~/workspace/pset1/credit/`

* Результатом роботи вашої програми має бути рівно один рядок у форматі AMEX\n or MASTERCARD\n or VISA\n or INVALID\n. Також ваш метод main 
має завжди повертати 0.

* Для простоти вважатимемо, що коректні вхідні дані завжди будуть чисельними (тобто номер карти вводитиметься без дефісів)

* Не слід припускати, що користувацький вхід увійде в тип даних int! Використовуйте функцію get_long_long із бібліотеки CS50 (Як ви думаєте, чому?)

### Відеоінструкція

[Посилання на YouTube](https://www.youtube.com/watch?v=06wNhN54P6k)

### Використання вашої програми

Ваша програма повинна поводитись, як вказано у прикладах (AMEX означає American Express).

``` bash
$ ./credit
Number: 378282246310005
AMEX
```

``` bash
$ ./credit
Number: 3782-822-463-10005
Number: foo
Number: 378282246310005
AMEX
```

``` bash
$ ./credit
Number: 6176292929
INVALID
```

### Тестування

#### Коректність

``` bash
check50 cs50/2018/x/credit
```

#### Стиль

``` bash
style50 credit.c
```

### Розв'язок працівників CS50

``` bash
~cs50/hacker1/credit
```

### Підказки

Перевірте вашу програму на великій кількості вхідних даних, коректних та некоректних (ми точно це зробимо!). Ось декілька номерів, 
які PayPal рекоменднує для тестування:

[https://developer.paypal.com/docs/classic/payflow/payflow-pro/payflow-pro-testing/#credit-card-numbers-for-testing](https://developer.paypal.com/docs/classic/payflow/payflow-pro/payflow-pro-testing/#credit-card-numbers-for-testing)

Google (чи, можливо, гаманець вашого друга) може надати вам більше прикладів (якщо ваш друг запитає, що ви робите, не згадуйте про нас!).
Якщо ваша програма поводиться неправильно на деяких вхідних даних (чи взагалі не компілюється), час шукати помилки!
